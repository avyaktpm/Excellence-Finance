(function(){function e(e){var a=jQuery("#loancalculatorform").find(":input").get();return"object"!=typeof e?(e={},jQuery.each(a,function(){this.name&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))&&"loandata"!=this.name&&(e[this.name]=jQuery(this).val())}),e):(jQuery.each(a,function(){this.name&&e[this.name]?"checkbox"==this.type||"radio"==this.type?(jQuery(this).prop("checked",e[this.name]==jQuery(this).val()),e[this.name]==jQuery(this).val()?(jQuery(this).parent(".btn").addClass("active"),jQuery(this).parent(".btn").siblings("input[name="+this.name+"]").removeClass("active")):(jQuery(this).parent(".btn").removeClass("active"),jQuery(this).parent(".btn").siblings("input[name="+this.name+"]").addClass("active"))):jQuery(this).val(e[this.name]):"checkbox"==this.type&&jQuery(this).prop("checked",!1)}),jQuery(this))}function a(){jQuery(".ecalprint").click(function(){return window.print(),!1})}function l(){jQuery(".ecalshare").click(function(){jQuery("#loader").toggle();var a=e();return a=Base64.encode(unescape(encodeURIComponent(JSON.stringify(a)))),jQuery.get("https://emicalculator.net/shortly/?longURL=https://emicalculator.net/loan-calculator/?ecdata="+a,function(e){jQuery("#sharelink").val(e),jQuery("#ecalsharelink").slideDown(),jQuery("#loader").toggle()}),!1}),jQuery("#sharelink").click(function(){jQuery(this).focus().select()})}function t(e){L=e,jQuery("#loancalc").val(e),"active"!=jQuery("li#"+L).attr("class")&&jQuery("li#"+L).addClass("active").siblings().removeClass("active"),jQuery("ul.loancalculator-nav li").click(function(){return"active"!=jQuery(this).attr("class")&&(jQuery(this).addClass("active").siblings().removeClass("active"),L=jQuery(this).attr("id"),jQuery("#loancalc").val(L),d(),u(),m()),!1})}function n(){jQuery("#startmonthyear").attr("readonly",!0),jQuery("#startmonthyear").datepicker({format:"M yyyy",minViewMode:1,autoclose:!0}).on("changeDate",function(){jQuery(this).datepicker("getDate").toDateString()!=R.g.toDateString()&&(R.g=jQuery(this).datepicker("getDate"),m())}).on("hide",function(){jQuery("#startmonthyear").blur()}),R.g=new Date,jQuery("#startmonthyear").datepicker("setDate",R.g)}function r(e,a,l,t,n,r){jQuery("#loanamount").val(Globalize.format(e,"n","en-IN")),jQuery("#loaninterest").val(1e3*a/1e3),jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(l/12):jQuery("#loanterm").val(l),c(),jQuery("#loanemi").val(Globalize.format(t,"n2","en-IN")),jQuery("#loanfees").val(Globalize.format(n,"n","en-IN")),0==r?jQuery("#emiarrears").button("toggle"):jQuery("#emiadvance").button("toggle")}function o(){jQuery("#loanamount").blur(function(){jQuery("#loanamount").val(Globalize.format(Math.round(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),"n","en-IN"))}),jQuery("#loanemi").blur(function(){jQuery("#loanemi").val(Globalize.format(Math.round(100*jQuery("#loanemi").val().replace(/[^\d\.]/g,""))/100,"n2","en-IN"))}),jQuery("#loaninterest").blur(function(){jQuery("#loaninterest").val(Math.round(100*jQuery("#loaninterest").val().replace(/[^\d\.]/g,""))/100)}),jQuery("#loanterm").blur(function(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(Math.round(Math.round(12*jQuery("#loanterm").val().replace(/[^\d\.]/g,""))/12*100)/100):jQuery("#loanterm").val(Math.round(jQuery("#loanterm").val().replace(/[^\d\.]/g,"")))}),jQuery("#loanfees").blur(function(){jQuery("#loanfees").val(Globalize.format(Math.round(jQuery("#loanfees").val().replace(/[^\d\.]/g,"")),"n","en-IN"))})}function s(){H=jQuery("#loanamountslider").slider({range:"min",value:parseInt(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),min:0,max:2e7,step:1e5,slide:function(e,a){jQuery("#loanamount").val(Globalize.format(a.value,"n","en-IN"))},change:function(e){e.originalEvent&&m()}}),H.slider("value",H.slider("value")),S=jQuery("#loanemislider").slider({range:"min",value:parseFloat(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),min:0,max:1e5,step:500,slide:function(e,a){jQuery("#loanemi").val(Globalize.format(a.value,"n2","en-IN"))},change:function(e){e.originalEvent&&m()}}),S.slider("value",S.slider("value")),Y=jQuery("#loaninterestslider").slider({range:"min",value:parseFloat(jQuery("#loaninterest").val()),min:0,max:20,step:.25,slide:function(e,a){jQuery("#loaninterest").val(a.value)},change:function(e){e.originalEvent&&m()}}),Y.slider("value",Y.slider("value"));var e=parseInt(jQuery("#loanterm").val());jQuery("#loancalculatorform input[name='loantenure']")[1].checked&&(e=parseInt(jQuery("#loanterm").val())/12),F=jQuery("#loantermslider").slider({range:"min",value:e,min:0,max:30,step:.5,slide:function(e,a){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(a.value):jQuery("#loanterm").val(12*a.value)},change:function(e){e.originalEvent&&m()}}),F.slider("value",F.slider("value")),W=jQuery("#loanfeesslider").slider({range:"min",value:parseInt(jQuery("#loanfees").val().replace(/[^\d\.]/g,"")),min:0,max:1e5,step:500,slide:function(e,a){jQuery("#loanfees").val(Globalize.format(a.value,"n","en-IN"))},change:function(e){e.originalEvent&&m()}}),W.slider("value",W.slider("value"))}function i(){jQuery("#loanamount").change(function(){H.slider("value",this.value.replace(/[^\d\.]/g,"")),m()}),jQuery("#loanemi").change(function(){S.slider("value",this.value.replace(/[^\d\.]/g,"")),m()}),jQuery("#loaninterest").change(function(){Y.slider("value",this.value),m()}),jQuery("#loanterm").change(function(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?F.slider("value",this.value):F.slider("value",this.value/12),m()}),jQuery("#loanfees").change(function(){W.slider("value",this.value.replace(/[^\d\.]/g,"")),m()}),jQuery("#loancalculatorform input[name='loantenure']").change(function(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(Math.round(jQuery("#loanterm").val().replace(/[^\d\.]/g,"")/12*100)/100):jQuery("#loanterm").val(Math.round(12*jQuery("#loanterm").val().replace(/[^\d\.]/g,""))),c()}),jQuery("#loancalculatorform input[name='emischeme']").change(function(){m()}),jQuery("#yearformat").change(function(){te=jQuery("#yearformat").val(),jQuery("#loanyearformat").val(te),m()})}function c(){jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loantermsteps").html('<span class="tick" style="left: 0%;">|<br/><span class="marker">0</span></span><span class="tick" style="left: 16.67%;">|<br/><span class="marker">5</span></span><span class="tick" style="left: 33.33%;">|<br/><span class="marker">10</span></span><span class="tick" style="left: 50%;">|<br/><span class="marker">15</span></span><span class="tick" style="left: 66.67%;">|<br/><span class="marker">20</span></span><span class="tick" style="left: 83.33%;">|<br/><span class="marker">25</span></span><span class="tick" style="left: 100%;">|<br/><span class="marker">30</span></span>'):jQuery("#loantermsteps").html('<span class="tick" style="left: 0%;">|<br/><span class="marker">0</span></span><span class="tick" style="left: 16.67%;">|<br/><span class="marker">60</span></span><span class="tick" style="left: 33.33%;">|<br/><span class="marker">120</span></span><span class="tick" style="left: 50%;">|<br/><span class="marker">180</span></span><span class="tick" style="left: 66.67%;">|<br/><span class="marker">240</span></span><span class="tick" style="left: 83.33%;">|<br/><span class="marker">300</span></span><span class="tick" style="left: 100%;">|<br/><span class="marker">360</span></span>')}function d(){"emi-calc"==L?(jQuery("#lamountwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lemiwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#lintwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#ltermwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-amount-calc"==L?(jQuery("#lamountwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#lemiwrapper").removeClass("sep").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lintwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#ltermwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-tenure-calc"==L?(jQuery("#lamountwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lemiwrapper").addClass("sep").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lintwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#ltermwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible")):"interest-rate-calc"==L&&(jQuery("#lamountwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lemiwrapper").addClass("sep").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lintwrapper").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#ltermwrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#lfeeswrapper").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#leschemewrapper").removeClass("toggle-hidden").addClass("toggle-visible"))}function u(){"emi-calc"==L?(jQuery("#loansummary-loanamount").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-emi").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-tenure").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-interestrate").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-amount-calc"==L?(jQuery("#loansummary-loanamount").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-emi").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-tenure").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-interestrate").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible")):"loan-tenure-calc"==L?(jQuery("#loansummary-loanamount").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-emi").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-tenure").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-interestrate").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible")):"interest-rate-calc"==L&&(jQuery("#loansummary-loanamount").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-emi").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-tenure").removeClass("toggle-visible").addClass("toggle-hidden"),jQuery("#loansummary-interestrate").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalinterest").removeClass("toggle-hidden").addClass("toggle-visible"),jQuery("#loansummary-totalamount").removeClass("toggle-hidden").addClass("toggle-visible"))}function m(){jQuery("#loancalculatorform").mask("Calculating..."),setTimeout(g,10)}function g(){if(jQuery("#ecalsharelink").hide(),w=Math.abs(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),0==w&&(w=1e6,jQuery("#loanamount").val(Globalize.format(w,"n","en-IN"))),H.slider("value",w),z=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),0==z&&(z=21617.95,jQuery("#loanemi").val(Globalize.format(z,"n2","en-IN"))),S.slider("value",z),k=Math.abs(jQuery("#loaninterest").val()/12/100),Y.slider("value",Math.abs(jQuery("#loaninterest").val())),N=jQuery("#loancalculatorform input[name='loantenure']")[0].checked?Math.abs(Math.round(12*jQuery("#loanterm").val())):Math.abs(Math.round(jQuery("#loanterm").val())),0==N&&(jQuery("#loancalculatorform input[name='loantenure']")[0].checked?jQuery("#loanterm").val(5):jQuery("#loanterm").val(60),N=60),F.slider("value",N/12),G=0,jQuery("#loancalculatorform input[name='emischeme']")[0].checked&&(G=1),x=Math.abs(jQuery("#loanfees").val().replace(/[^\d\.]/g,"")),W.slider("value",x),jQuery("#loanstartdate").val(jQuery("#startmonthyear").val()),jQuery("#loanyearformat").val(jQuery("#yearformat").val()),jQuery("#loancalc-message").removeClass("toggle-visible").addClass("toggle-hidden"),"emi-calc"==L)p(),B=w,P=1200*k,A=N,E=v();else if("loan-amount-calc"==L)B=0==k?z*N:1==G?z/k*((Math.pow(1+k,N)-1)/Math.pow(1+k,N-1)):z/k*((Math.pow(1+k,N)-1)/Math.pow(1+k,N)),jQuery("#loanamount").val(Globalize.format(B,"n","en-IN")),H.slider("value",jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),w=Math.abs(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),p(),T=z,P=1200*k,A=N,E=v();else if("loan-tenure-calc"==L)1==G&&(z<w*k/(1+k)?(jQuery("#loanemi").val(Globalize.format(.01+Math.round(w*k/(1+k)*100)/100,"n2","en-IN")),S.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),z=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI should be at least ₹ "+Globalize.format(z,"n2","en-IN")+" to repay the principal loan amount along with interest."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")):z>w&&(jQuery("#loanemi").val(Globalize.format(Math.round(100*w)/100,"n2","en-IN")),S.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),z=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI cannot exceed the loan amount of ₹ "+Globalize.format(z,"n2","en-IN")+" under the 'EMI in advance' scheme."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible"))),0==G&&(z<w*k?(jQuery("#loanemi").val(Globalize.format(.01+Math.round(w*k*100)/100,"n2","en-IN")),S.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),z=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI should be at least ₹ "+Globalize.format(z,"n2","en-IN")+" to repay the principal loan amount along with interest."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")):z>w+w*k&&(jQuery("#loanemi").val(Globalize.format(Math.round(100*(w+w*k))/100,"n2","en-IN")),S.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),z=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),jQuery("#loancalc-message span").text("EMI cannot exceed ₹ "+Globalize.format(z,"n2","en-IN")+" (i.e., loan amount plus one month's interest) under the 'EMI in arrears' scheme."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible"))),0==k?A=Math.round(w/z):1==G?A=Math.round(1+Math.log(z/(z+z*k-w*k))/Math.log(1+k)):0==G&&(A=Math.round(Math.log(z/(z-w*k))/Math.log(1+k))),360<A&&(A=360,jQuery("#loancalc-message span").text("Loan Tenure shortened to 30 Years."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")),jQuery("#loancalculatorform input[name='loantenure']")[0].checked?(jQuery("#loanterm").val(Math.round(A/12*100)/100),F.slider("value",jQuery("#loanterm").val().replace(/[^\d\.]/g,""))):(jQuery("#loanterm").val(A),F.slider("value",jQuery("#loanterm").val().replace(/[^\d\.]/g,"")/12)),N=jQuery("#loancalculatorform input[name='loantenure']")[0].checked?Math.abs(Math.round(12*jQuery("#loanterm").val())):Math.abs(Math.round(jQuery("#loanterm").val())),p(),B=w,T=z,P=1200*k,E=v();else if("interest-rate-calc"==L){if(1==G){for(var e,a=Math.pow(10,-5),l=.05/12,t=0;20>t;t++){e=l;var n=l=N;if(l=e-(w*e*Math.pow(1+e,l-1)/(Math.pow(1+e,l)-1)-z)/(Math.pow(1+e,n-2)*(Math.pow(1+e,n)-n*e-1)/Math.pow(Math.pow(1+e,n)-1,2)*w),(e=Math.abs(l-e))<a)break}a=Math.round(12e4*l)/100}else{for(a=Math.pow(10,-5),t=.05/12,e=0;20>e&&(l=t,t=l-h(l,w,N)/y(l,w,N),!((l=Math.abs(t-l))<a));e++);a=Math.round(12e4*t)/100}P=a,0>P&&(P=0,jQuery("#loancalc-message span").text("EMI is ₹ "+Globalize.format(Math.round(w/N*100)/100,"n2","en-IN")+" at 0% interest rate."),jQuery("#loancalc-message").removeClass("toggle-hidden").addClass("toggle-visible")),jQuery("#loaninterest").val(P),Y.slider("value",jQuery("#loaninterest").val().replace(/[^\d\.]/g,"")),k=Math.abs(jQuery("#loaninterest").val()/12/100),p(),B=w,T=z,A=N,E=v()}if(jQuery("#loansummary-loanamount span").text(Globalize.format(B,"n","en-IN")),jQuery("#loansummary-emi span").text(Globalize.format(T,"n2","en-IN")),jQuery("#loansummary-tenure span").text(Globalize.format(A,"n","en-IN")),jQuery("#loansummary-interestrate span").text(Globalize.format(P,"n2","en-IN")),0==P?(jQuery("#loansummary-totalinterest span").text(Globalize.format(0,"n","en-IN")),jQuery("#loansummary-totalamount span").text(Globalize.format(B+x,"n","en-IN"))):(jQuery("#loansummary-totalinterest span").text(Globalize.format(T*A-B,"n","en-IN")),jQuery("#loansummary-totalamount span").text(Globalize.format(T*A+x,"n","en-IN"))),jQuery("#loansummary-apr span").text(Globalize.format(E,"n2","en-IN")),"calendaryear"==te){for(U=[],V=[],q=[],K=[],X=[],Z=[],$=[],_=[],ee=[],ae=[],Z[0]=new Date(R.g.getTime()),1==G?(_[0]=0,$[0]=T):(_[0]=w*k,$[0]=T-_[0]),ee[0]=w-$[0],ae[0]=(w-ee[0])/w*100,a=Z[0].getFullYear(),t=0,U[t++]=a,V[a]=$[0],q[a]=_[0],K[a]=ee[0],X[a]=ae[0],e=1;e<N;e++)Z[e]=new Date(Z[e-1].getTime()),Z[e].setMonth(Z[e].getMonth()+1,1),_[e]=ee[e-1]*k,$[e]=T-_[e],ee[e]=ee[e-1]-$[e],ae[e]=(w-ee[e])/w*100,Z[e].getFullYear()!=a&&(a=Z[e].getFullYear(),U[t++]=a,V[a]=0,q[a]=0,K[a]=0,X[a]=0),V[a]+=$[e],q[a]+=_[e],K[a]=ee[e],X[a]=ae[e];ee[N-1]=0,K[a]=0,ae[N-1]=100,X[a]=100}else{for(U=[],V=[],q=[],K=[],X=[],Z=[],$=[],_=[],ee=[],ae=[],Z[0]=new Date(R.g.getTime()),1==G?(_[0]=0,$[0]=T):(_[0]=w*k,$[0]=T-_[0]),ee[0]=w-$[0],ae[0]=(w-ee[0])/w*100,a=parseInt(Z[0].getFullYear().toString().slice(-2),10),2<Z[0].getMonth()&&(a+=1),t=0,U[t++]=a,V[a]=$[0],q[a]=_[0],K[a]=ee[0],X[a]=ae[0],e=1;e<N;e++)Z[e]=new Date(Z[e-1].getTime()),Z[e].setMonth(Z[e].getMonth()+1,1),_[e]=ee[e-1]*k,$[e]=T-_[e],ee[e]=ee[e-1]-$[e],ae[e]=(w-ee[e])/w*100,3==Z[e].getMonth()&&(a=parseInt(Z[e].getFullYear().toString().slice(-2),10)+1,U[t++]=a,V[a]=0,q[a]=0,K[a]=0,X[a]=0),V[a]+=$[e],q[a]+=_[e],K[a]=ee[e],X[a]=ae[e];ee[N-1]=0,K[a]=0,ae[N-1]=100,X[a]=100}C(),"calendaryear"==te?(b(),j()):(f(),Q()),jQuery("#loancalculatorform").unmask()}function h(e,a,l){return a*e*Math.pow(1+e,l)/(Math.pow(1+e,l)-1)-z}function y(e,a,l){return a*(Math.pow(1+e,l)/(-1+Math.pow(1+e,l))-l*e*Math.pow(1+e,2*l-1)/Math.pow(-1+Math.pow(1+e,l),2)+l*e*Math.pow(1+e,-1+l)/(-1+Math.pow(1+e,l)))}function p(){T=0==k?Math.round(w/N*100)/100:1==G?Math.round(Math.pow(1+k,N-1)/(Math.pow(1+k,N)-1)*k*w*100)/100:Math.round(Math.pow(1+k,N)/(Math.pow(1+k,N)-1)*k*w*100)/100,jQuery("#loanemi").val(Globalize.format(T,"n2","en-IN")),S.slider("value",jQuery("#loanemi").val().replace(/[^\d\.]/g,"")),z=Math.abs(jQuery("#loanemi").val().replace(/[^\d\.]/g,""))}function v(){if(1==G){for(var e,a=Math.pow(10,-5),l=.05/12,t=0;20>t&&(e=l,l=e-h(e,w-z-x,N-1)/y(e,w-z-x,N-1),!((e=Math.abs(l-e))<a));t++);a=Math.round(12e4*l)/100}else{for(a=Math.pow(10,-5),l=.05/12,t=0;20>t&&(e=l,l=e-h(e,w-x,N)/y(e,w-x,N),!((e=Math.abs(l-e))<a));t++);a=Math.round(12e4*l)/100}return a}function b(){for(var e=[],a=[],l=[],t=[],n=0,r=U.length;n<r;n++){var o=U[n];e[n]=o,a[n]=V[o],l[n]=q[o],t[n]=K[o]}new Highcharts.Chart({chart:{renderTo:"loanpaymentbarchart",backgroundColor:"transparent",plotBackgroundColor:"transparent",defaultSeriesType:"column",borderWidth:0,spacingLeft:0,spacingRight:0},title:{text:""},xAxis:{categories:e,minorTickInterval:"auto",tickmarkPlacement:"on",labels:{rotation:-45,align:"right",step:8<U.length?2:1,style:{font:"normal 9px Verdana, sans-serif"},formatter:function(){return this.value}}},yAxis:[{min:0,title:{text:"EMI Payment / year"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}},opposite:!0,labels:{formatter:function(){return"₹ "+Globalize.format(this.value,"n","en-IN")}}},{min:0,title:{text:"Balance"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}},labels:{formatter:function(){return"₹ "+Globalize.format(this.value,"n","en-IN")}}}],legend:{align:"center",itemMarginBottom:2,itemMarginTop:2,verticalAlign:"bottom",floating:!1,backgroundColor:"#EEEEEE",shadow:!1},tooltip:{formatter:function(){return"Balance"==this.series.name?"<b>Year: "+this.x+"</b><br/>"+this.series.name+" : ₹ "+Globalize.format(this.y,"n","en-IN")+"<br/>Loan Paid To Date : "+Globalize.format((w-this.y)/w*100,"n2","en-IN")+"%":"<b>Year : "+this.x+"</b><br/>"+this.series.name+" : ₹ "+Globalize.format(this.y,"n","en-IN")+"<br/>Total Payment : ₹ "+Globalize.format(this.point.stackTotal,"n","en-IN")}},plotOptions:{column:{borderWidth:0,stacking:"normal",dataLabels:{enabled:!1,color:Highcharts.theme&&Highcharts.theme.dataLabelsColor||"white"}}},series:[{name:"Interest",data:l,yAxis:0,legendIndex:2,color:"#ED8C2B"},{name:"Principal",data:a,yAxis:0,legendIndex:1,color:"#88A825"},{name:"Balance",data:t,type:"spline",yAxis:1,legendIndex:3,color:"#B8204C"}]})}function f(){for(var e=[],a=[],l=[],t=[],n=0,r=U.length;n<r;n++){var o=U[n];e[n]="FY"+o,a[n]=V[o],l[n]=q[o],t[n]=K[o]}new Highcharts.Chart({chart:{renderTo:"loanpaymentbarchart",backgroundColor:"transparent",plotBackgroundColor:"transparent",defaultSeriesType:"column",borderWidth:0,spacingLeft:0,spacingRight:0},title:{text:""},xAxis:{categories:e,minorTickInterval:"auto",tickmarkPlacement:"on",labels:{rotation:-45,align:"right",step:8<U.length?2:1,style:{font:"normal 9px Verdana, sans-serif"},formatter:function(){return this.value}}},yAxis:[{min:0,title:{text:"EMI Payment / year"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}},opposite:!0,labels:{formatter:function(){return"₹ "+Globalize.format(this.value,"n","en-IN")}}},{min:0,title:{text:"Balance"},stackLabels:{enabled:!1,style:{fontWeight:"bold",color:Highcharts.theme&&Highcharts.theme.textColor||"gray"}},labels:{formatter:function(){return"₹ "+Globalize.format(this.value,"n","en-IN")}}}],legend:{align:"center",itemMarginBottom:2,itemMarginTop:2,verticalAlign:"bottom",floating:!1,backgroundColor:"#EEEEEE",shadow:!1},tooltip:{formatter:function(){return"Balance"==this.series.name?"<b>Year: "+this.x+"</b><br/>"+this.series.name+" : ₹ "+Globalize.format(this.y,"n","en-IN")+"<br/>Loan Paid To Date : "+Globalize.format((w-this.y)/w*100,"n2","en-IN")+"%":"<b>Year : "+this.x+"</b><br/>"+this.series.name+" : ₹ "+Globalize.format(this.y,"n","en-IN")+"<br/>Total Payment : ₹ "+Globalize.format(this.point.stackTotal,"n","en-IN")}},plotOptions:{column:{borderWidth:0,stacking:"normal",dataLabels:{enabled:!1,color:Highcharts.theme&&Highcharts.theme.dataLabelsColor||"white"}}},series:[{name:"Interest",data:l,yAxis:0,legendIndex:2,color:"#ED8C2B"},{name:"Principal",data:a,yAxis:0,legendIndex:1,color:"#88A825"},{name:"Balance",data:t,type:"spline",yAxis:1,legendIndex:3,color:"#B8204C"}]})}function j(){D='<table><tr class="row no-margin"><th class="col-2 col-lg-1" id="yearheader">Year</th><th class="col-sm-2 d-none d-sm-table-cell" id="principalheader">Principal<br/>(A)</th><th class="col-3 d-table-cell d-sm-none" id="principalheader">Principal</th><th class="col-sm-2 d-none d-sm-table-cell" id="interestheader">Interest<br/>(B)</th><th class="col-3 d-table-cell d-sm-none" id="interestheader">Interest</th><th class="col-sm-3 d-none d-sm-table-cell" id="totalheader">Total Payment<br/>(A + B)</th><th class="col-4 col-sm-3" id="balanceheader">Balance</th><th class="col-lg-1 d-none d-lg-table-cell" id="paidtodateheader">Loan Paid To Date</th></tr>';for(var e=0,a=0,l=U.length;a<l;a++){var t=U[a];D+='<tr class="row no-margin yearlypaymentdetails"><td id="year'+t+'" class="col-2 col-lg-1 paymentyear toggle">'+t+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format(V[t],"n2","en-IN")+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format(q[t],"n2","en-IN")+'</td><td class="col-sm-3 d-none d-sm-table-cell currency">₹ '+Globalize.format(V[t]+q[t],"n2","en-IN")+'</td><td class="col-4 col-sm-3 currency">₹ '+Globalize.format(K[t],"n2","en-IN")+'</td><td class="col-lg-1 d-none d-lg-table-cell paidtodateyear">'+Globalize.format(X[t],"n2","en-IN")+"%</td></tr>",D+='<tr id="monthyear'+t+'" class="row no-margin monthlypaymentdetails"><td class="col-12 monthyearwrapper" colspan="6"><div class="monthlypaymentcontainer"><table>';for(var n=Z.length;e<n&&Z[e].getFullYear()==t;)D+='<tr class="row no-margin"><td class="col-2 col-lg-1 paymentmonthyear">'+le[Z[e].getMonth()]+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format($[e],"n2","en-IN")+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format(_[e],"n2","en-IN")+'</td><td class="col-sm-3 d-none d-sm-table-cell currency">₹ '+Globalize.format($[e]+_[e],"n2","en-IN")+'</td><td class="col-4 col-sm-3 currency">₹ '+Globalize.format(ee[e],"n2","en-IN")+'</td><td class="col-lg-1 d-none d-lg-table-cell paidtodatemonthyear">'+Globalize.format(ae[e++],"n2","en-IN")+"%</td></tr>";D+="</table></div></td></tr>"}D+="</table>",jQuery("#loanpaymenttable").html(D),jQuery("#loanpaymenttable tr.monthlypaymentdetails").find("div").hide(),jQuery("#loanpaymenttable td.toggle").click(function(){var e=jQuery(this).attr("id");jQuery(this).toggleClass("toggle-open"),jQuery("tr#month"+e).find("div").slideToggle()})}function Q(){D='<table><tr class="row no-margin"><th class="col-2 col-lg-1" id="yearheader">Year</th><th class="col-sm-2 d-none d-sm-table-cell" id="principalheader">Principal<br/>(A)</th><th class="col-3 d-table-cell d-sm-none" id="principalheader">Principal</th><th class="col-sm-2 d-none d-sm-table-cell" id="interestheader">Interest<br/>(B)</th><th class="col-3 d-table-cell d-sm-none" id="interestheader">Interest</th><th class="col-sm-3 d-none d-sm-table-cell" id="totalheader">Total Payment<br/>(A + B)</th><th class="col-4 col-sm-3" id="balanceheader">Balance</th><th class="col-lg-1 d-none d-lg-table-cell" id="paidtodateheader">Loan Paid To Date</th></tr>';for(var e=0,a=0,l=U.length;a<l;a++){var t=U[a];D+='<tr class="row no-margin yearlypaymentdetails"><td id="year'+t+'" class="col-2 col-lg-1 paymentyear toggle">FY'+t+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format(V[t],"n2","en-IN")+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format(q[t],"n2","en-IN")+'</td><td class="col-sm-3 d-none d-sm-table-cell currency">₹ '+Globalize.format(V[t]+q[t],"n2","en-IN")+'</td><td class="col-4 col-sm-3 currency">₹ '+Globalize.format(K[t],"n2","en-IN")+'</td><td class="col-lg-1 d-none d-lg-table-cell paidtodateyear">'+Globalize.format(X[t],"n2","en-IN")+"%</td></tr>",D+='<tr id="monthyear'+t+'" class="row no-margin monthlypaymentdetails"><td class="col-12 monthyearwrapper" colspan="6"><div class="monthlypaymentcontainer"><table>',t=Z.length;do{D+='<tr class="row no-margin"><td class="col-2 col-lg-1 paymentmonthyear">'+le[Z[e].getMonth()]+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format($[e],"n2","en-IN")+'</td><td class="col-3 col-sm-2 currency">₹ '+Globalize.format(_[e],"n2","en-IN")+'</td><td class="col-sm-3 d-none d-sm-table-cell currency">₹ '+Globalize.format($[e]+_[e],"n2","en-IN")+'</td><td class="col-4 col-sm-3 currency">₹ '+Globalize.format(ee[e],"n2","en-IN")+'</td><td class="col-lg-1 d-none d-lg-table-cell paidtodatemonthyear">'+Globalize.format(ae[e++],"n2","en-IN")+"%</td></tr>"}while(e<t&&3!=Z[e].getMonth());D+="</table></div></td></tr>"}D+="</table>",jQuery("#loanpaymenttable").html(D),jQuery("#loanpaymenttable tr.monthlypaymentdetails").find("div").hide(),jQuery("#loanpaymenttable td.toggle").click(function(){var e=jQuery(this).attr("id");jQuery(this).toggleClass("toggle-open"),jQuery("tr#month"+e).find("div").slideToggle()})}function C(){new Highcharts.Chart({chart:{renderTo:"loansummary-piechart",plotBackgroundColor:null,borderWidth:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Break-up of Total Payment"},tooltip:{formatter:function(){return"<b>"+this.point.name+": "+Math.round(100*this.percentage)/100+"%</b>"}},plotOptions:{pie:{borderWidth:0,allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,distance:10,color:"#333333",formatter:function(){return"<b>"+Math.round(100*this.percentage)/100+"%</b>"}},showInLegend:!0}},legend:{backgroundColor:"transparent",align:"center",verticalAlign:"bottom",floating:!1,itemMarginTop:1,itemMarginBottom:1},series:[{type:"pie",name:"Principal vs. Interest vs. Fees & Charges",data:[{name:"Principal",y:w,sliced:!0,selected:!0,color:"#88A825"},{name:"Interest",y:T*N-w,color:"#ED8C2B"},{name:"Fees & Charges",y:x,color:"#CF4A30"}]}]})}var M="function"==typeof Object.defineProperties?Object.defineProperty:function(e,a,l){return e==Array.prototype||e==Object.prototype?e:(e[a]=l.value,e)},I=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<e.length;++a){var l=e[a];if(l&&l.Math==Math)return l}throw Error("Cannot find global object")}(this);!function(e,a){if(a)e:{var l=I;e=e.split(".");for(var t=0;t<e.length-1;t++){var n=e[t];if(!(n in l))break e;l=l[n]}e=e[e.length-1],t=l[e],(a=a(t))!=t&&null!=a&&M(l,e,{configurable:!0,writable:!0,value:a})}}("Array.prototype.find",function(e){return e||function(e,a){e:{var l=this;l instanceof String&&(l=String(l));for(var t=l.length,n=0;n<t;n++){var r=l[n];if(e.call(a,r,n,l)){e=r;break e}}e=void 0}return e}});var w,k,N,z,G,x,T,E,B,A,P,D,L,H,Y,F,S,W,O,J,R={dateText:new Date},U=[],V=[],q=[],K=[],X=[],Z=[],$=[],_=[],ee=[],ae=[],le="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),te="calendaryear";jQuery(document).ready(function(){t("emi-calc"),n(),jQuery("#yearformat").val("calendaryear"),jQuery("#loanamount").unbind("change"),jQuery("#loaninterest").unbind("change"),jQuery("#loanterm").unbind("change"),jQuery("#loanemi").unbind("change"),jQuery("#loanfees").unbind("change"),jQuery("#loancalculatorform input[name='loantenure']").unbind("change"),jQuery("#loancalculatorform input[name='emischeme']").unbind("change");var c=jQuery("#loandata").val();if(""!=c){c=jQuery.parseJSON(decodeURIComponent(escape(Base64.decode(c)))),L=c.loancalc,t(L),e(c);var g=Math.abs(jQuery("#loanamount").val().replace(/[^\d\.]/g,"")),h=jQuery("#loaninterest").val(),y=jQuery("#loanterm").val();"loanyears"==c.loantenure&&(y*=12);var p=jQuery("#loanemi").val(),v=jQuery("#loanfees").val(),b=0;"emiadvance"==jQuery("#loancalculatorform input[name='emischeme']:checked").val()&&(b=1),r(g,h,y,p,v,b),g=c.loanstartdate,0<g.length&&(J=g.substring(g.length-4,g.length),O=jQuery.inArray(g.substring(0,g.length-5),le),jQuery("#startmonthyear").datepicker("setDate",new Date(J,O,1))),jQuery("#yearformat").val(c.loanyearformat),te=jQuery("#yearformat").val()}else r(1e6,10.75,60,21617.95,1e4,0);o(),s(),i(),d(),u(),a(),l(),m()})}).call(this);
//# sourceMappingURL=loancalculator.js.map
